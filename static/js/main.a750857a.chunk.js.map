{"version":3,"sources":["data/nodes.csv","components/MapNodes.js","components/TXList.js","helpers/generateTXs.js","components/TXs.js","components/WorldMap.js","components/TXNodes.js","helpers/txNodes.js","helpers/processData.js","images/corner.svg","images/cancel.svg","images/play.svg","images/pause.svg","components/TXViz.js","hooks/useWindowDimensions.js","components/SearchBox.js","images/decorationTop.svg","images/decorationBottom.svg","images/legend.svg","App.js","reportWebVitals.js","index.js"],"names":["MapNodes","props","txsInfo","scaleInfo","projection","centerStyle","console","log","m","Map","s","Set","i","set","toString","node","hash","get","add","txNum","size","d3","data","then","nodeGeoInfo","remove","append","attr","selectAll","enter","d","long","lat","id","style","className","TXList","txs","txList","txVizHashChanger","listItems","keys","txKey","unix_timestamp","date","Date","hours","getHours","minutes","getMinutes","seconds","getSeconds","formattedTime","substr","listItem","onClick","color","fontSize","push","random","max","Math","floor","array","target","index","indexOf","splice","sleep","ms","Promise","resolve","setTimeout","generateOneTX","txId","setCurrTx","a","txHash","nodes","Array","map","e","firstNode","timestamp","now","receiveSeed","length","receivedRandom","receivedNum","min","receivedNodes","receivedNodeIndex","receivedNode","sleepTime","forEach","generateTXs","setInterval","TXs","useState","setTxList","setTxsInfo","currTx","useEffect","txInfo","currTime","filter","tx","Number","newTx","has","slice","update","WorldMap","worldMap","useRef","path","geoPath","pointRadius","mapData","topojson","countriesData","objects","countries","features","current","ref","TXNodes","vizContainer","width","height","translateX","translateY","radius","initialAngle","PI","sqrt","n","angle","x","cos","y","sin","sx","sy","center","initializeNodes","links","dataset","txTestData","rng","seedrandom","prevNode","pow","startPoint","endPoint","generateLinks","nodeData","time","filterNodeData","linkData","filterLinkData","call","svg","drawInitNodes","nodesData","linksData","p","exit","l","drawLinkedNodes","ReactTooltip","rebuild","TXViz","txVizHash","startTime","endTime","rangeVal","setrangeVal","play","setPlay","playSvg","btnSvg","setBtnSvg","inputRef","setRangeColor","value","progress","background","timer","clearInterval","cornerDecorations","src","corner","alt","fill","opacity","type","onChange","event","pauseSvg","cancel","getWindowDimensions","window","innerWidth","innerHeight","SearchBox","isOpen","setIsOpen","searchTX","setSearchTX","toggleClass","onKeyPress","key","App","setTxVizHash","windowDimensions","setWindowDimensions","handleResize","addEventListener","removeEventListener","useWindowDimensions","geoMiller","scale","rotate","translate","position","left","top","transform","decorationTop","decorationBottom","legend","x1","y1","x2","y2","stroke","strokeWidth","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a750857a.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/nodes.16a1ae4c.csv\";","import React from \"react\";\r\nimport * as d3 from \"d3\";\r\nimport data from \"../data/nodes.csv\";\r\n\r\nconst MapNodes = (props) => {\r\n  const txsInfo = props.txsInfo;\r\n  const scaleInfo = props.scaleInfo;\r\n\r\n  const projection = scaleInfo.projection;\r\n  const centerStyle = scaleInfo.centerStyle;\r\n\r\n  console.log(txsInfo);\r\n\r\n  let m = new Map();\r\n  let s = new Set();\r\n  for (let i = 0; i < 100; i++) {\r\n    m.set(i.toString(), 0);\r\n  }\r\n  for (let i in txsInfo) {\r\n    const node = txsInfo[i].node.toString();\r\n    const hash = txsInfo[i].hash;\r\n    m.set(node, m.get(node) + 1);\r\n    s.add(hash);\r\n  }\r\n  const txNum = s.size;\r\n\r\n  d3.csv(data).then(function (data) {\r\n    const nodeGeoInfo = data;\r\n\r\n    d3.selectAll(\".node\").remove();\r\n\r\n    const nodeSvg = d3\r\n      .select(\".nodes\")\r\n      .append(\"g\")\r\n      .attr(\"class\", \"node\")\r\n      .selectAll(\"circle\")\r\n      .data(nodeGeoInfo)\r\n      .enter();\r\n\r\n    nodeSvg\r\n      .append(\"circle\")\r\n      .attr(\"cx\", function (d) {\r\n        return projection([d.long, d.lat])[0];\r\n      })\r\n      .attr(\"cy\", function (d) {\r\n        return projection([d.long, d.lat])[1];\r\n      })\r\n      .attr(\"r\", function (d) {\r\n        return (4 * m.get(d.id)) / txNum;\r\n      })\r\n      .style(\"fill\", \"#18efb1\")\r\n      .style(\"opacity\", function (d) {\r\n        return (m.get(d.id) / txNum) * 0.8;\r\n      });\r\n\r\n    // nodeSvg\r\n    //   .append(\"circle\")\r\n    //   .attr(\"cx\", function (d) {\r\n    //     return projection([d.long, d.lat])[0];\r\n    //   })\r\n    //   .attr(\"cy\", function (d) {\r\n    //     return projection([d.long, d.lat])[1];\r\n    //   })\r\n    //   .attr(\"r\", function (d) {\r\n    //     return (6 * m.get(d.id)) / txNum;\r\n    //   })\r\n    //   .style(\"fill\", \"#18efb1\")\r\n    //   .style(\"opacity\", function (d) {\r\n    //     return (m.get(d.id) / txNum) * 0.1;\r\n    //   });\r\n\r\n    // nodeSvg\r\n    //   .append(\"circle\")\r\n    //   .attr(\"cx\", function (d) {\r\n    //     return projection([d.long, d.lat])[0];\r\n    //   })\r\n    //   .attr(\"cy\", function (d) {\r\n    //     return projection([d.long, d.lat])[1];\r\n    //   })\r\n    //   .attr(\"r\", function (d) {\r\n    //     return (9 * m.get(d.id)) / txNum;\r\n    //   })\r\n    //   .style(\"fill\", \"#18efb1\")\r\n    //   .style(\"opacity\", function (d) {\r\n    //     return (m.get(d.id) / txNum) * 0.03;\r\n    //   });\r\n  });\r\n\r\n  return (\r\n    <svg\r\n      style={centerStyle}\r\n    >\r\n      <g className=\"nodes\" />\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport default MapNodes;\r\n","const TXList = (props) => {\r\n  const txs = props.txList;\r\n  const txVizHashChanger = props.txVizHashChanger;\r\n\r\n  let listItems = [];\r\n  for (let txKey of txs.keys()) {\r\n    const unix_timestamp = txs.get(txKey);\r\n    const date = new Date(unix_timestamp);\r\n    const hours = date.getHours();\r\n    const minutes = \"0\" + date.getMinutes();\r\n    const seconds = \"0\" + date.getSeconds();\r\n    // Will display time in 10:30:23 format\r\n    const formattedTime =\r\n      hours + \":\" + minutes.substr(-2) + \":\" + seconds.substr(-2);\r\n\r\n    const listItem = (\r\n      <li key={txKey} onClick={() => txVizHashChanger(txKey)}>\r\n        <span style={{ color: \"#18EFB1\", fontSize: \"12px\" }}>\r\n          {/* {new Date(txs.get(txKey)).toString()} */}\r\n          {formattedTime}\r\n        </span>\r\n        <br />\r\n        {txKey}\r\n      </li>\r\n    );\r\n    listItems.push(listItem);\r\n  }\r\n\r\n  return (\r\n    <ul>\r\n      {/* <li key=\"test\" onClick={() => txVizHashChanger(\"0x365698b50ca0da75dca2c87f9e7b563811d3b5813736b8cc62cc3b106faceb\")}>\r\n        <span style={{ color: \"#18EFB1\", fontSize: \"12px\" }}>\r\n          THISISFORTEST\r\n        </span>\r\n        <br />\r\n        0x365698b50ca0da75dca2c87f9e7b563811d3b5813736b8cc62cc3b106faceb\r\n      </li> */}\r\n      {listItems}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default TXList;\r\n","const nodeNum = 100;\r\n\r\nfunction random(max) {\r\n  return Math.floor(Math.random() * max);\r\n}\r\n\r\nfunction remove(array, target) {\r\n  const index = array.indexOf(target);\r\n  if (index > -1) {\r\n    array.splice(index, 1);\r\n  }\r\n}\r\n\r\nfunction sleep(ms) {\r\n  return new Promise(resolve => setTimeout(resolve, ms));\r\n}\r\n\r\nconst generateOneTX = async (txId, setCurrTx) => {\r\n  const txHash =\r\n    \"0x365698b50ca0da75dca2c87f9e7b563811d3b5813736b8cc62cc3b106faceb\" + txId;\r\n  let nodes = [...Array(nodeNum)].map((e, i) => i);\r\n\r\n  const firstNode = random(nodeNum);\r\n  remove(nodes, firstNode);\r\n  setCurrTx({ node: firstNode, hash: txHash, timestamp: Date.now() });\r\n\r\n  let receiveSeed = 3;\r\n  while(nodes.length > 0) {\r\n    const receivedRandom = random(receiveSeed) + receiveSeed / 2;\r\n    const receivedNum = Math.min(receivedRandom, nodes.length);\r\n    let receivedNodes = [];\r\n    for (let i = 0; i < receivedNum; i++) {\r\n      const receivedNodeIndex = random(nodes.length);\r\n      const receivedNode = nodes[receivedNodeIndex];\r\n      receivedNodes.push(receivedNode);\r\n      remove(nodes, receivedNode);\r\n    }\r\n    // console.log(nodes);\r\n\r\n    const sleepTime = random(500);\r\n    await sleep(sleepTime);\r\n    receivedNodes.forEach(async (e) => {\r\n      setCurrTx({node: e, hash: txHash, timestamp: Date.now()});\r\n      await sleep(10);\r\n    })\r\n\r\n    receiveSeed += random(3) + 2;\r\n  }\r\n};\r\n\r\nconst generateTXs = (setCurrTx) => {\r\n  let i = 0;\r\n  setInterval(function() {\r\n    generateOneTX(i, setCurrTx);\r\n    i += 1;\r\n  }, 3000);\r\n}\r\n\r\nexport default generateTXs;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport MapNodes from \"./MapNodes\";\r\nimport TXList from \"./TXList\";\r\nimport \"../css/TXs.css\";\r\nimport generateTXs from \"../helpers/generateTXs\";\r\n\r\nconst TXs = (props) => {\r\n  const [txList, setTxList] = useState(new Map());\r\n  const [txsInfo, setTxsInfo] = useState([]);\r\n  const [currTx, setCurrTx] = useState();\r\n\r\n  // console.log(currTx);\r\n\r\n  useEffect(() => {\r\n    if (currTx) {\r\n      update();\r\n    }\r\n  }, [currTx]);\r\n\r\n  function update() {\r\n    const txInfo = currTx;\r\n    const currTime = Date.now();\r\n    setTxsInfo((txsInfo) => {\r\n      const temp = [...txsInfo, txInfo];\r\n      return temp.filter((tx) => currTime - tx.timestamp < 5000);\r\n    });\r\n\r\n    const txHash = currTx.hash;\r\n    const timestamp = Number(currTx.timestamp);\r\n\r\n    const newTx = new Map([[txHash, timestamp]]);\r\n    setTxList((txList) => {\r\n      // BUG: may show one tx repeatedly\r\n      if (!txList.has(txHash)) {\r\n        return new Map([...newTx, ...txList].slice(0, 6));\r\n      } else {\r\n        return txList;\r\n      }\r\n    });\r\n  }\r\n\r\n  useEffect(() => {\r\n    generateTXs(setCurrTx);\r\n  }, []);\r\n\r\n  return (\r\n    <div style={props.centerStyle}>\r\n      <div>\r\n        <MapNodes txsInfo={txsInfo} scaleInfo={props} />\r\n      </div>\r\n      <div id=\"tx-list\">\r\n        <TXList txList={txList} txVizHashChanger={props.txVizHashChanger} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TXs;\r\n","import React, { useRef, useEffect } from \"react\";\r\nimport * as d3 from \"d3\";\r\nimport * as topojson from \"topojson\";\r\nimport { geoPath } from \"d3-geo\";\r\nimport countriesData from \"../data/countries.topo.json\";\r\n\r\nconst WorldMap = (props) => {\r\n  const worldMap = useRef();\r\n\r\n  const centerStyle = props.centerStyle;\r\n  const projection = props.projection;\r\n\r\n  const path = geoPath().projection(projection).pointRadius(1);\r\n  const mapData = topojson.feature(\r\n    countriesData,\r\n    countriesData.objects.countries\r\n  ).features;\r\n\r\n  useEffect(() => {\r\n    d3.selectAll(\"path\").remove();\r\n\r\n    d3.select(worldMap.current)\r\n      .selectAll(\"path\")\r\n      .data(mapData)\r\n      .enter()\r\n      .append(\"path\")\r\n      .attr(\"d\", path)\r\n      .style(\"fill\", \"#1F1F1F\")\r\n      .style(\"stroke\", \"#090909\")\r\n      .style(\"stroke-width\", 0.7);\r\n  }, [props]);\r\n\r\n  return (\r\n    <svg\r\n      style={centerStyle}\r\n    >\r\n      <g className=\"world-map\" ref={worldMap} />\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport default WorldMap;\r\n","import React, { useRef, useEffect, Fragment } from \"react\";\r\nimport * as d3 from \"d3\";\r\nimport {\r\n  initializeNodes,\r\n  drawInitNodes,\r\n  drawLinkedNodes,\r\n} from \"../helpers/txNodes\";\r\nimport {\r\n  generateLinks,\r\n  filterNodeData,\r\n  filterLinkData,\r\n} from \"../helpers/processData\";\r\nimport ReactTooltip from \"react-tooltip\";\r\n\r\nconst TXNodes = (props) => {\r\n  const vizContainer = useRef();\r\n  const width = props.width;\r\n  const height = props.height - 40;\r\n\r\n  const nodes = initializeNodes(width / 2, height / 2);\r\n  const links = generateLinks();\r\n  let nodeData = filterNodeData(props.time);\r\n  let linkData = filterLinkData(props.time, links);\r\n\r\n  useEffect(() => {\r\n    d3.select(vizContainer.current)\r\n      .call((svg) => drawInitNodes(svg, nodes))\r\n      .call((svg) => drawLinkedNodes(svg, nodes, nodeData, linkData));\r\n    ReactTooltip.rebuild();\r\n  }, [nodes, nodeData, linkData]);\r\n\r\n  return (\r\n    <Fragment>\r\n      <svg ref={vizContainer} style={{ height: height, width: width }} />\r\n      <ReactTooltip />\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default TXNodes;\r\n","import * as d3 from \"d3\";\r\n\r\nconst R = 2.5;\r\nconst SPACING = 15;\r\nconst NODES_NUM = 100;\r\n\r\nexport const initializeNodes = (translateX, translateY) => {\r\n  const numNodes = NODES_NUM;\r\n  let nodes = d3.range(numNodes).map(function () {\r\n    return { radius: R };\r\n  });\r\n\r\n  const initialRadius = SPACING,\r\n    initialAngle = Math.PI * (3 - Math.sqrt(5));\r\n\r\n  for (let i = 0, n = nodes.length, node; i < n; ++i) {\r\n    node = nodes[i];\r\n    node.index = i;\r\n    // if (isNaN(node.x) || isNaN(node.y)) {\r\n    const radius = initialRadius * Math.sqrt(0.5 + i),\r\n      angle = i * initialAngle;\r\n    node.x = radius * Math.cos(angle);\r\n    node.y = radius * Math.sin(angle);\r\n    // }\r\n    node.id = \"node\" + i;\r\n  }\r\n\r\n  function center(x, y) {\r\n    let i,\r\n      sx = 0,\r\n      sy = 0;\r\n    const n = nodes.length;\r\n\r\n    for (i = 0; i < n; ++i) {\r\n      let node = nodes[i];\r\n      sx += node.x;\r\n      sy += node.y;\r\n    }\r\n\r\n    for (sx = sx / n - x, sy = sy / n - y, i = 0; i < n; ++i) {\r\n      let node = nodes[i];\r\n      node.x -= sx;\r\n      node.y -= sy;\r\n    }\r\n  }\r\n\r\n  center(translateX, translateY);\r\n\r\n  return nodes;\r\n};\r\n\r\nexport const drawInitNodes = (svg, nodes) => {\r\n  svg\r\n    .selectAll(\"circle\")\r\n    .data(nodes)\r\n    .enter()\r\n    .append(\"circle\")\r\n    .attr(\"r\", function (d) {\r\n      return d.radius;\r\n    })\r\n    .attr(\"cx\", function (d) {\r\n      return d.x;\r\n    })\r\n    .attr(\"cy\", function (d) {\r\n      return d.y;\r\n    })\r\n    .attr(\"id\", function (d) {\r\n      return d.id;\r\n    })\r\n    .attr(\"data-tip\", function (d) {\r\n      return d.id;\r\n    })\r\n    // .append(\"svg:title\")\r\n    // .text(function(d) {\r\n    //   return d.id;\r\n    // })\r\n    .style(\"fill\", \"#E6E6E6\");\r\n\r\n  return svg.node();\r\n};\r\n\r\nexport const drawLinkedNodes = (svg, nodes, nodesData, linksData) => {\r\n  // console.log(nodesData);\r\n  const p = svg.selectAll(\".recieved\").data(nodesData);\r\n  p.enter()\r\n    .append(\"circle\")\r\n    .attr(\"class\", \"recieved\")\r\n    .attr(\"r\", R)\r\n    .attr(\"cx\", function (d) {\r\n      return nodes[d].x;\r\n    })\r\n    .attr(\"cy\", function (d) {\r\n      return nodes[d].y;\r\n    })\r\n    .attr(\"data-tip\", function (d) {\r\n      return nodes[d].id;\r\n    })\r\n    .style(\"fill\", \"#18EFB1\");\r\n  p.exit().remove();\r\n\r\n  const l = svg.selectAll(\".connect\").data(linksData);\r\n  l.enter().append(\"line\").attr(\"class\", \"connect\");\r\n  l.style(\"stroke\", \"#18EFB1\")\r\n    .attr(\"x1\", function (d) {\r\n      return nodes[d.startPoint].x;\r\n    })\r\n    .attr(\"y1\", function (d) {\r\n      return nodes[d.startPoint].y;\r\n    })\r\n    .attr(\"x2\", function (d) {\r\n      return nodes[d.endPoint].x;\r\n    })\r\n    .attr(\"y2\", function (d) {\r\n      return nodes[d.endPoint].y;\r\n    });\r\n  l.exit().remove();\r\n\r\n  return svg.node();\r\n};\r\n","import txTestData from \"../data/txTestData.json\";\r\nimport seedrandom from \"seedrandom\";\r\n\r\nexport const generateLinks = () => {\r\n  const dataset = txTestData.tx;\r\n  const rng = seedrandom('TXTXTXTXTXTXTXT0'); // using tx's hash as seed\r\n  let links = [];\r\n  for (let i = 1; i < dataset.length; i++) {\r\n    let prevNode = i;\r\n    while (dataset[prevNode].timestamp == dataset[i].timestamp) {\r\n      prevNode = Math.floor(Math.pow(rng(), 0.5) * i);\r\n    }\r\n    links.push({startPoint: prevNode, endPoint: i, timestamp: dataset[i].timestamp});\r\n  }\r\n  return links;\r\n}\r\n\r\nexport const filterNodeData = (time) => {\r\n  const dataset = txTestData.tx;\r\n  let i = 0;\r\n  let nodeData = [];\r\n  while (i < dataset.length && dataset[i].timestamp <= time) {\r\n    nodeData.push(i);\r\n    i += 1;\r\n  }\r\n  return nodeData;\r\n}\r\n\r\nexport const filterLinkData = (time, links) => {\r\n  let i = 0;\r\n  let linkData = [];\r\n  while (i < links.length && links[i].timestamp <= time) {\r\n    linkData.push(links[i]);\r\n    i += 1;\r\n  }\r\n  if (linkData.length > 40) {\r\n    linkData = linkData.slice(-40);\r\n  }\r\n  return linkData;\r\n}\r\n","export default __webpack_public_path__ + \"static/media/corner.f624a045.svg\";","export default __webpack_public_path__ + \"static/media/cancel.179c3d84.svg\";","export default __webpack_public_path__ + \"static/media/play.1e6239bf.svg\";","export default __webpack_public_path__ + \"static/media/pause.2668d8b8.svg\";","import { useState, useEffect, useRef } from \"react\";\r\nimport TXNodes from \"./TXNodes\";\r\nimport \"../css/TXViz.scss\";\r\nimport corner from \"../images/corner.svg\";\r\nimport cancel from \"../images/cancel.svg\";\r\nimport playSvg from \"../images/play.svg\";\r\nimport pauseSvg from \"../images/pause.svg\";\r\n\r\nconst TXViz = (props) => {\r\n  const txVizHash = props.txVizHash;\r\n  const txVizHashChanger = props.txVizHashChanger;\r\n\r\n  const width = 670;\r\n  const height = 380;\r\n\r\n  const startTime = 1622463474248;\r\n  const endTime = 1622463476577;\r\n  const [rangeVal, setrangeVal] = useState(startTime);\r\n  const [play, setPlay] = useState(false);\r\n  const [btnSvg, setBtnSvg] = useState(playSvg);\r\n\r\n  const inputRef = useRef();\r\n  const activeRangeColor = \"#18EFB1\";\r\n  const rangeBackgroundColor = \"#E6E6E6\";\r\n  const setRangeColor = (value) => {\r\n    const progress = ((value - startTime) / (endTime - startTime)) * 100 + \"%\";\r\n    inputRef.current.style.background = `linear-gradient(90deg, ${activeRangeColor} 0% ${progress}, ${rangeBackgroundColor} ${progress} 100%)`;\r\n  };\r\n\r\n  const handleChange = (event) => {\r\n    const value = Number(event.target.value);\r\n    setrangeVal(value);\r\n    setRangeColor(value);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (rangeVal == endTime) {\r\n      setBtnSvg(playSvg);\r\n      setPlay(false);\r\n    }\r\n    if (play) {\r\n      const timer = setInterval(() => {\r\n        setrangeVal(rangeVal + 1);\r\n        setRangeColor(rangeVal);\r\n      }, 1);\r\n      return () => clearInterval(timer);\r\n    }\r\n  }, [rangeVal, play]);\r\n\r\n  const cornerDecorations = [...Array(4)].map((e, i) => (\r\n    <img id={\"corner\" + i} src={corner} alt=\"\" key={i} />\r\n  ));\r\n\r\n  return (\r\n    <div style={{ width: width, height: height }}>\r\n      <svg id=\"bg\" style={{ width: width, height: height }}>\r\n        <rect\r\n          x={0}\r\n          y={0}\r\n          width={width}\r\n          height={height}\r\n          style={{ fill: \"#1F1F1F\", opacity: 0.8 }}\r\n        />\r\n      </svg>\r\n\r\n      {cornerDecorations}\r\n\r\n      <div id=\"tx-nodes\">\r\n        <TXNodes time={rangeVal} width={width} height={height} />\r\n      </div>\r\n\r\n      <p id=\"tx-hash\">{txVizHash}</p>\r\n\r\n      <div id=\"timeline\">\r\n        <p className=\"timeline-time\">{rangeVal}</p>\r\n        <input\r\n          ref={inputRef}\r\n          type=\"range\"\r\n          className=\"timeline-slider\"\r\n          min={startTime}\r\n          max={endTime}\r\n          value={rangeVal}\r\n          onChange={handleChange}\r\n        />\r\n        <img\r\n          id=\"play-button\"\r\n          onClick={() => {\r\n            if (rangeVal == endTime) {\r\n              setrangeVal(startTime);\r\n            }\r\n            if (play) {\r\n              setBtnSvg(playSvg);\r\n            } else {\r\n              setBtnSvg(pauseSvg);\r\n            }\r\n            setPlay(!play);\r\n          }}\r\n          src={btnSvg}\r\n          alt=\"play button\"\r\n        />\r\n      </div>\r\n\r\n      <img\r\n        id=\"cancel-button\"\r\n        onClick={() => {\r\n          txVizHashChanger(\"\");\r\n        }}\r\n        src={cancel}\r\n        alt=\"cancel button\"\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TXViz;\r\n","import { useState, useEffect } from 'react';\r\n\r\nfunction getWindowDimensions() {\r\n  const { innerWidth, innerHeight } = window;\r\n  return {\r\n    innerWidth,\r\n    innerHeight\r\n  };\r\n}\r\n\r\nexport default function useWindowDimensions() {\r\n  const [windowDimensions, setWindowDimensions] = useState(getWindowDimensions());\r\n\r\n  useEffect(() => {\r\n    function handleResize() {\r\n      setWindowDimensions(getWindowDimensions());\r\n    }\r\n\r\n    window.addEventListener('resize', handleResize);\r\n    return () => window.removeEventListener('resize', handleResize);\r\n  }, []);\r\n\r\n  return windowDimensions;\r\n}","import React, { useState } from \"react\";\r\nimport \"../css/SearchBox.scss\";\r\n\r\nconst SearchBox = (props) => {\r\n  // TODO: handle error, maxlength, etc.\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [searchTX, setSearchTX] = useState();\r\n  const txVizHashChanger = props.txVizHashChanger;\r\n\r\n  const toggleClass = () => {\r\n    if (isOpen) {\r\n      txVizHashChanger(searchTX);\r\n    }\r\n    setIsOpen(!isOpen);\r\n  };\r\n\r\n  return (\r\n    <div className={isOpen ? \"search open\" : \"search\"}>\r\n      <input\r\n        type=\"search\"\r\n        className=\"search-input\"\r\n        value={searchTX}\r\n        onChange={(e) => setSearchTX(e.target.value)}\r\n        onKeyPress={(e) => {\r\n          if (e.key === \"Enter\") {\r\n            toggleClass();\r\n          }\r\n        }}\r\n      />\r\n      <span className=\"search-button\" onClick={toggleClass}>\r\n        <span className=\"search-icon\"></span>\r\n      </span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SearchBox;\r\n","export default __webpack_public_path__ + \"static/media/decorationTop.d3499909.svg\";","export default __webpack_public_path__ + \"static/media/decorationBottom.bcc4ea3d.svg\";","export default __webpack_public_path__ + \"static/media/legend.79494a87.svg\";","import React, { useState } from \"react\";\r\nimport \"./css/App.css\";\r\nimport TXs from \"./components/TXs\";\r\nimport WorldMap from \"./components/WorldMap\";\r\nimport TXViz from \"./components/TXViz\";\r\nimport useWindowDimensions from \"./hooks/useWindowDimensions\";\r\nimport { geoMiller } from \"d3-geo-projection\";\r\nimport SearchBox from \"./components/SearchBox\";\r\nimport decorationTop from \"./images/decorationTop.svg\";\r\nimport decorationBottom from \"./images/decorationBottom.svg\";\r\nimport legend from \"./images/legend.svg\";\r\n\r\nfunction App() {\r\n  const [txVizHash, setTxVizHash] = useState(\"\");\r\n\r\n  const { innerWidth, innerHeight } = useWindowDimensions();\r\n  let width, height;\r\n  if (innerHeight > (innerWidth - 20) / 2.03) {\r\n    width = innerWidth - 20;\r\n    height = width / 2.03;\r\n  } else {\r\n    height = innerHeight;\r\n    width = height * 2.03;\r\n  }\r\n  const projection = geoMiller()\r\n    .scale((width / 630) * 100)\r\n    .rotate([-11, 0])\r\n    .translate([width / 2, height * 0.645]);\r\n\r\n  const centerStyle = {\r\n    height: height,\r\n    width: width,\r\n    position: \"absolute\",\r\n    left: \"50%\",\r\n    top: \"50%\",\r\n    transform: \"translate(-50%, -50%)\",\r\n  };\r\n\r\n  return (\r\n    <div style={centerStyle}>\r\n      <div id=\"world-map\">\r\n        <WorldMap projection={projection} centerStyle={centerStyle} />\r\n      </div>\r\n\r\n      <div id=\"cryptape\">\r\n        <h1>CRYPTAPE</h1>\r\n      </div>\r\n      <div id=\"decoration-top\">\r\n        <img src={decorationTop} width={width * 0.1} alt=\"\" />\r\n      </div>\r\n      <div id=\"decoration-bottom\">\r\n        <img src={decorationBottom} width={width * 0.1} alt=\"\" />\r\n      </div>\r\n      <div id=\"legend\">\r\n        <img src={legend} width={width * 0.04} alt=\"\" />\r\n      </div>\r\n\r\n      <div id=\"txs\">\r\n        <TXs\r\n          projection={projection}\r\n          centerStyle={centerStyle}\r\n          txVizHashChanger={setTxVizHash}\r\n        />\r\n      </div>\r\n\r\n      <div id=\"tx-viz\">\r\n        {txVizHash === \"\" ? null : (\r\n          <TXViz txVizHash={txVizHash} txVizHashChanger={setTxVizHash} />\r\n        )}\r\n      </div>\r\n\r\n      <div id=\"bottom-line\">\r\n        <svg style={{ width: width * 0.6, height: \"2px\" }}>\r\n          <line\r\n            x1={0}\r\n            y1={2}\r\n            x2={width * 0.6}\r\n            y2={2}\r\n            style={{ stroke: \"#B8B8B8\", strokeWidth: \"0.5px\" }}\r\n          />\r\n          <rect\r\n            x={width * 0.6 - 670}\r\n            y={0}\r\n            width={2}\r\n            height={2}\r\n            style={{ fill: \"#E6E6E6\" }}\r\n          />\r\n          <rect\r\n            x={width * 0.6 - 2}\r\n            y={0}\r\n            width={2}\r\n            height={2}\r\n            style={{ fill: \"#E6E6E6\" }}\r\n          />\r\n        </svg>\r\n      </div>\r\n\r\n      <div id=\"search-box\">\r\n        <SearchBox txVizHashChanger={setTxVizHash} />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './css/index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}